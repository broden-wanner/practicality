<ng-container *ngIf="!subtask.editing">
  <ion-item>
    <ion-icon
      (click)="checkSubtask()"
      [name]="subtask.completed ? 'checkmark-circle' : 'radio-button-off'"
      slot="start"
    ></ion-icon>
    <ion-label (click)="enterEdit()" class="subtask-text">
      <ion-text>
        {{ subtask.name }}
      </ion-text>
      <ion-text class="subtask-date" color="medium">
        {{ subtask.dateToComplete | date: 'MMM d' }}
      </ion-text>
    </ion-label>
    <ion-button fill="clear" color="dark" (click)="deleteSubtask()" slot="end">
      <ion-icon name="close"></ion-icon>
    </ion-button>
  </ion-item>
</ng-container>

<form *ngIf="subtask.editing" [formGroup]="subtaskForm">
  <ion-item color="light">
    <ion-icon
      [name]="subtask.completed ? 'checkmark-circle' : 'radio-button-off'"
      slot="start"
    ></ion-icon>
    <ion-input
      formControlName="name"
      class="subtask-name-input"
      type="text"
      placeholder="Name"
      class="subtask-input-name"
    ></ion-input>
    <ion-datetime
      formControlName="dateToComplete"
      placeholder="Date"
      class="subtask-input-datetime"
    ></ion-datetime>
    <ion-button fill="clear" color="dark" (click)="saveSubtask()" slot="end">
      <ion-icon name="checkmark"></ion-icon>
    </ion-button>
  </ion-item>
</form>
