function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{XkyL:function(l,n,t){"use strict";t.r(n);var u,e=t("8Y7J"),o=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"ngOnInit",value:function(){}}]),l}(),i=t("2Vo4"),r=function(){function l(n,t,u,e,o){_classCallCheck(this,l),this.id=n,this.name=t,this.completed=u,this.dateToComplete=moment.utc(e).toISOString(),this.project=o}return _createClass(l,null,[{key:"fromJson",value:function(n){return console.log(n),new l(n.id,n.name,n.completed,n.dateToComplete,n.project)}}]),l}(),a=function(){function l(n,t,u,e,o,i,a,c){_classCallCheck(this,l),this.id=n,this.user=t,this.title=u,this.description=e,this.dateCreated=moment.utc(o).toISOString(),this.dateToComplete=moment.utc(i).toISOString(),this.dateCompleted=moment.utc(a).toISOString(),this.subtasks=Array.isArray(c)?c.map(r.fromJson):new Array,this.collapsed=!1}return _createClass(l,[{key:"toggleSubtasks",value:function(){this.collapsed=!this.collapsed}},{key:"progress",get:function(){return 0===this.subtasks.length?0:this.subtasks.filter((function(l){return l.completed})).length/this.subtasks.length}}],[{key:"fromJson",value:function(n){return new l(n.id,n.user,n.title,n.description,n.dateCreated,n.dateToComplete,n.dateCompleted,n.subtasks)}}]),l}(),c=t("lJxs"),s=t("IheW"),b=((u=function(){function l(n){_classCallCheck(this,l),this.http=n,this.projects=new i.a(new Array)}return _createClass(l,[{key:"loadAllProjects",value:function(){var l=this;this.http.get("/api/projects/").subscribe((function(n){l.projects.next(n.map(a.fromJson))}),(function(n){l.projects.error(n)}))}},{key:"getAllProjects",value:function(){return this.projects.asObservable()}},{key:"getProject",value:function(l){return this.http.get("/api/projects/".concat(l,"/")).pipe(Object(c.a)(a.fromJson))}},{key:"createProject",value:function(l){return this.http.post("/api/projects/",l).pipe(Object(c.a)(a.fromJson))}},{key:"updateSubtask",value:function(l){return this.http.put("api/subtasks/".concat(l.id,"/"),l).pipe(Object(c.a)(r.fromJson))}}]),l}()).ngInjectableDef=e.Yb({factory:function(){return new u(e.Zb(s.c))},token:u,providedIn:"root"}),u),p=function(){function l(n){_classCallCheck(this,l),this.projectService=n}return _createClass(l,[{key:"ngOnInit",value:function(){this.projectService.loadAllProjects(),this.projects=this.projectService.getAllProjects()}},{key:"checkSubtask",value:function(l){l.completed=!l.completed,this.projectService.updateSubtask(l).subscribe()}}]),l}(),g=function(){function l(n,t){_classCallCheck(this,l),this.projectService=n,this.fb=t}return _createClass(l,[{key:"ngOnInit",value:function(){this.projectForm=this.fb.group({title:"",description:"",dateToComplete:"",subtasks:[]})}},{key:"onSubmit",value:function(){var l=a.fromJson(this.projectForm.value);this.projectService.createProject(l).subscribe()}}]),l}(),d=t("NUQi"),m=function l(){_classCallCheck(this,l)},f=t("pMnS"),h=t("oBZk"),C=t("ZZ/e"),j=t("iInd"),k=t("SVse"),v=e.zb({encapsulation:0,styles:[[".toolbar-button[_ngcontent-%COMP%]{padding:0 20px}.inline-icon[_ngcontent-%COMP%]{padding-right:4px}"]],data:{}});function A(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,13,"ion-header",[],null,null,null,h.J,h.k)),e.Ab(1,49152,null,0,C.y,[e.j,e.p,e.F],null,null),(l()(),e.Bb(2,0,null,0,11,"ion-toolbar",[],null,null,null,h.X,h.y)),e.Ab(3,49152,null,0,C.zb,[e.j,e.p,e.F],null,null),(l()(),e.Bb(4,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,h.W,h.x)),e.Ab(5,49152,null,0,C.xb,[e.j,e.p,e.F],null,null),(l()(),e.Tb(-1,0,["Projects"])),(l()(),e.Bb(7,0,null,0,6,"ion-button",[["class","toolbar-button"],["routerLink","/projects/new"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Mb(l,9).onClick()&&u),"click"===n&&(u=!1!==e.Mb(l,10).onClick(t)&&u),u}),h.A,h.b)),e.Ab(8,49152,null,0,C.h,[e.j,e.p,e.F],null,null),e.Ab(9,16384,null,0,j.n,[j.m,j.a,[8,null],e.K,e.p],{routerLink:[0,"routerLink"]},null),e.Ab(10,737280,null,0,C.Hb,[k.i,C.Eb,e.p,j.m,[2,j.n]],null,null),(l()(),e.Bb(11,0,null,0,1,"ion-icon",[["class","inline-icon"],["name","add"]],null,null,null,h.K,h.l)),e.Ab(12,49152,null,0,C.z,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Tb(-1,0,[" New Project "])),(l()(),e.Bb(14,0,null,null,3,"ion-content",[],null,null,null,h.H,h.i)),e.Ab(15,49152,null,0,C.r,[e.j,e.p,e.F],null,null),(l()(),e.Bb(16,16777216,null,0,1,"ion-router-outlet",[],null,null,null,null,null)),e.Ab(17,212992,null,0,C.fb,[j.b,e.W,e.m,[8,null],[8,null],C.b,C.Eb,k.h,e.p,j.m,e.F,j.a,[3,C.fb]],null,null)],(function(l,n){l(n,9,0,"/projects/new"),l(n,10,0),l(n,12,0,"add"),l(n,17,0)}),null)}var M=e.xb("app-projects",o,(function(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,1,"app-projects",[],null,null,null,A,v)),e.Ab(1,114688,null,0,o,[],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),y=e.zb({encapsulation:0,styles:[[".project-title[_ngcontent-%COMP%]{white-space:nowrap;margin-right:32px}.progress-text[_ngcontent-%COMP%]{margin-left:16px}"]],data:{}});function B(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,6,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.checkSubtask(l.context.$implicit)&&u),u}),h.M,h.n)),e.Ab(1,49152,null,0,C.E,[e.j,e.p,e.F],{button:[0,"button"]},null),(l()(),e.Bb(2,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,h.K,h.l)),e.Ab(3,49152,null,0,C.z,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(4,0,null,0,2,"ion-label",[],null,null,null,h.N,h.o)),e.Ab(5,49152,null,0,C.K,[e.j,e.p,e.F],null,null),(l()(),e.Tb(6,0,["",""]))],(function(l,n){l(n,1,0,""),l(n,3,0,n.context.$implicit.completed?"checkmark-circle-outline":"radio-button-off")}),(function(l,n){l(n,6,0,n.context.$implicit.name)}))}function F(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.qb(16777216,null,null,1,null,B)),e.Ab(2,278528,null,0,k.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null),(l()(),e.qb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.context.$implicit.subtasks)}),null)}function S(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,14,null,null,null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,11,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.context.$implicit.toggleSubtasks()&&u),u}),h.M,h.n)),e.Ab(2,49152,null,0,C.E,[e.j,e.p,e.F],{button:[0,"button"]},null),(l()(),e.Bb(3,0,null,0,1,"p",[["class","project-title"]],null,null,null,null,null)),(l()(),e.Tb(4,null,["",""])),(l()(),e.Bb(5,0,null,0,1,"ion-progress-bar",[],null,null,null,h.T,h.u)),e.Ab(6,49152,null,0,C.W,[e.j,e.p,e.F],{value:[0,"value"]},null),(l()(),e.Bb(7,0,null,0,1,"p",[["class","progress-text"]],null,null,null,null,null)),(l()(),e.Tb(8,null,["","%"])),(l()(),e.Bb(9,0,null,0,1,"ion-icon",[["name","add"],["slot","end"]],null,null,null,h.K,h.l)),e.Ab(10,49152,null,0,C.z,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.Bb(11,0,null,0,1,"ion-icon",[["name","more"],["slot","end"]],null,null,null,h.K,h.l)),e.Ab(12,49152,null,0,C.z,[e.j,e.p,e.F],{name:[0,"name"]},null),(l()(),e.qb(16777216,null,null,1,null,F)),e.Ab(14,16384,null,0,k.l,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(0,null,null,0))],(function(l,n){l(n,2,0,""),l(n,6,0,n.context.$implicit.progress),l(n,10,0,"add"),l(n,12,0,"more"),l(n,14,0,!n.context.$implicit.collapsed)}),(function(l,n){l(n,4,0,n.context.$implicit.title),l(n,8,0,100*n.context.$implicit.progress)}))}function _(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,6,"ion-content",[["ion-padding",""]],null,null,null,h.H,h.i)),e.Ab(1,49152,null,0,C.r,[e.j,e.p,e.F],null,null),(l()(),e.Bb(2,0,null,0,4,"ion-list",[["class","list-container"]],null,null,null,h.O,h.p)),e.Ab(3,49152,null,0,C.L,[e.j,e.p,e.F],null,null),(l()(),e.qb(16777216,null,0,2,null,S)),e.Ab(5,278528,null,0,k.k,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null),e.Ob(131072,k.b,[e.j])],(function(l,n){var t=n.component;l(n,5,0,e.Ub(n,5,0,e.Mb(n,6).transform(t.projects)))}),null)}var P=e.xb("app-project-list",p,(function(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,1,"app-project-list",[],null,null,null,_,y)),e.Ab(1,114688,null,0,p,[b],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),x=t("s7LF"),w=e.zb({encapsulation:0,styles:[[".project-form-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:var(--default-padding)}.project-form-container[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:var(--default-margin)}.project-form-container[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]],data:{}});function O(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,50,"div",[["class","project-form-container"]],null,null,null,null,null)),(l()(),e.Bb(1,0,null,null,49,"form",[["class","project-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keyup.enter"],[null,"submit"],[null,"reset"]],(function(l,n,t){var u=!0,o=l.component;return"submit"===n&&(u=!1!==e.Mb(l,3).onSubmit(t)&&u),"reset"===n&&(u=!1!==e.Mb(l,3).onReset()&&u),"ngSubmit"===n&&(u=!1!==o.onSubmit()&&u),"keyup.enter"===n&&(u=!1!==o.onSubmit()&&u),u}),null,null)),e.Ab(2,16384,null,0,x.o,[],null,null),e.Ab(3,540672,null,0,x.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Qb(2048,null,x.a,null,[x.d]),e.Ab(5,16384,null,0,x.j,[[4,x.a]],null,null),(l()(),e.Bb(6,0,null,null,11,"ion-item",[],null,null,null,h.M,h.n)),e.Ab(7,49152,null,0,C.E,[e.j,e.p,e.F],null,null),(l()(),e.Bb(8,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,h.N,h.o)),e.Ab(9,49152,null,0,C.K,[e.j,e.p,e.F],{position:[0,"position"]},null),(l()(),e.Tb(-1,0,["Project title"])),(l()(),e.Bb(11,0,null,0,6,"ion-input",[["formControlName","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0;return"ionBlur"===n&&(u=!1!==e.Mb(l,12)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Mb(l,12)._handleInputEvent(t.target)&&u),u}),h.L,h.m)),e.Ab(12,16384,null,0,C.Jb,[e.p],null,null),e.Qb(1024,null,x.g,(function(l){return[l]}),[C.Jb]),e.Ab(14,671744,null,0,x.c,[[3,x.a],[8,null],[8,null],[6,x.g],[2,x.n]],{name:[0,"name"]},null),e.Qb(2048,null,x.h,null,[x.c]),e.Ab(16,16384,null,0,x.i,[[4,x.h]],null,null),e.Ab(17,49152,null,0,C.D,[e.j,e.p,e.F],{type:[0,"type"]},null),(l()(),e.Bb(18,0,null,null,11,"ion-item",[],null,null,null,h.M,h.n)),e.Ab(19,49152,null,0,C.E,[e.j,e.p,e.F],null,null),(l()(),e.Bb(20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,h.N,h.o)),e.Ab(21,49152,null,0,C.K,[e.j,e.p,e.F],{position:[0,"position"]},null),(l()(),e.Tb(-1,0,["Description"])),(l()(),e.Bb(23,0,null,0,6,"ion-input",[["formControlName","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0;return"ionBlur"===n&&(u=!1!==e.Mb(l,24)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Mb(l,24)._handleInputEvent(t.target)&&u),u}),h.L,h.m)),e.Ab(24,16384,null,0,C.Jb,[e.p],null,null),e.Qb(1024,null,x.g,(function(l){return[l]}),[C.Jb]),e.Ab(26,671744,null,0,x.c,[[3,x.a],[8,null],[8,null],[6,x.g],[2,x.n]],{name:[0,"name"]},null),e.Qb(2048,null,x.h,null,[x.c]),e.Ab(28,16384,null,0,x.i,[[4,x.h]],null,null),e.Ab(29,49152,null,0,C.D,[e.j,e.p,e.F],{type:[0,"type"]},null),(l()(),e.Bb(30,0,null,null,11,"ion-item",[],null,null,null,h.M,h.n)),e.Ab(31,49152,null,0,C.E,[e.j,e.p,e.F],null,null),(l()(),e.Bb(32,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,h.N,h.o)),e.Ab(33,49152,null,0,C.K,[e.j,e.p,e.F],{position:[0,"position"]},null),(l()(),e.Tb(-1,0,["Date to Complete"])),(l()(),e.Bb(35,0,null,0,6,"ion-datetime",[["formControlName","dateToComplete"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0;return"ionBlur"===n&&(u=!1!==e.Mb(l,36)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e.Mb(l,36)._handleChangeEvent(t.target)&&u),u}),h.I,h.j)),e.Ab(36,16384,null,0,C.Ib,[e.p],null,null),e.Qb(1024,null,x.g,(function(l){return[l]}),[C.Ib]),e.Ab(38,671744,null,0,x.c,[[3,x.a],[8,null],[8,null],[6,x.g],[2,x.n]],{name:[0,"name"]},null),e.Qb(2048,null,x.h,null,[x.c]),e.Ab(40,16384,null,0,x.i,[[4,x.h]],null,null),e.Ab(41,49152,null,0,C.s,[e.j,e.p,e.F],null,null),(l()(),e.Bb(42,0,null,null,4,"ion-item",[],null,null,null,h.M,h.n)),e.Ab(43,49152,null,0,C.E,[e.j,e.p,e.F],null,null),(l()(),e.Bb(44,0,null,0,2,"ion-label",[],null,null,null,h.N,h.o)),e.Ab(45,49152,null,0,C.K,[e.j,e.p,e.F],null,null),(l()(),e.Tb(-1,0,["Subtasks"])),(l()(),e.Bb(47,0,null,null,3,"div",[["class","create-button-container"]],null,null,null,null,null)),(l()(),e.Bb(48,0,null,null,2,"ion-button",[["type","submit"]],null,null,null,h.A,h.b)),e.Ab(49,49152,null,0,C.h,[e.j,e.p,e.F],{type:[0,"type"]},null),(l()(),e.Tb(-1,0,["Create"]))],(function(l,n){l(n,3,0,n.component.projectForm),l(n,9,0,"floating"),l(n,14,0,"title"),l(n,17,0,"text"),l(n,21,0,"floating"),l(n,26,0,"description"),l(n,29,0,"text"),l(n,33,0,"floating"),l(n,38,0,"dateToComplete"),l(n,49,0,"submit")}),(function(l,n){l(n,1,0,e.Mb(n,5).ngClassUntouched,e.Mb(n,5).ngClassTouched,e.Mb(n,5).ngClassPristine,e.Mb(n,5).ngClassDirty,e.Mb(n,5).ngClassValid,e.Mb(n,5).ngClassInvalid,e.Mb(n,5).ngClassPending),l(n,11,0,e.Mb(n,16).ngClassUntouched,e.Mb(n,16).ngClassTouched,e.Mb(n,16).ngClassPristine,e.Mb(n,16).ngClassDirty,e.Mb(n,16).ngClassValid,e.Mb(n,16).ngClassInvalid,e.Mb(n,16).ngClassPending),l(n,23,0,e.Mb(n,28).ngClassUntouched,e.Mb(n,28).ngClassTouched,e.Mb(n,28).ngClassPristine,e.Mb(n,28).ngClassDirty,e.Mb(n,28).ngClassValid,e.Mb(n,28).ngClassInvalid,e.Mb(n,28).ngClassPending),l(n,35,0,e.Mb(n,40).ngClassUntouched,e.Mb(n,40).ngClassTouched,e.Mb(n,40).ngClassPristine,e.Mb(n,40).ngClassDirty,e.Mb(n,40).ngClassValid,e.Mb(n,40).ngClassInvalid,e.Mb(n,40).ngClassPending)}))}var K=e.xb("app-project-detail",g,(function(l){return e.Vb(0,[(l()(),e.Bb(0,0,null,null,1,"app-project-detail",[],null,null,null,O,w)),e.Ab(1,114688,null,0,g,[b,x.b],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]);t.d(n,"ProjectsModuleNgFactory",(function(){return T}));var T=e.yb(m,[],(function(l){return e.Jb([e.Kb(512,e.m,e.jb,[[8,[f.a,M,P,K]],[3,e.m],e.D]),e.Kb(4608,k.n,k.m,[e.z,[2,k.v]]),e.Kb(4608,x.m,x.m,[]),e.Kb(4608,x.b,x.b,[]),e.Kb(4608,C.a,C.a,[e.F,e.g]),e.Kb(4608,C.Db,C.Db,[C.a,e.m,e.w]),e.Kb(4608,C.Gb,C.Gb,[C.a,e.m,e.w]),e.Kb(1073742336,k.c,k.c,[]),e.Kb(1073742336,x.l,x.l,[]),e.Kb(1073742336,x.e,x.e,[]),e.Kb(1073742336,x.k,x.k,[]),e.Kb(1073742336,C.Bb,C.Bb,[]),e.Kb(1073742336,j.q,j.q,[[2,j.v],[2,j.m]]),e.Kb(1073742336,m,m,[]),e.Kb(1024,j.k,(function(){return[[{path:"",component:o,canActivate:[d.a],children:[{path:"",component:p},{path:":title",component:g}]}]]}),[])])}))}}]);