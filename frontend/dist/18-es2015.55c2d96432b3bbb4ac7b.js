(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{XkyL:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{constructor(){}ngOnInit(){}}var o=t("2Vo4");class i{constructor(l,n,t,u,e){this.id=l,this.name=n,this.completed=t,this.dateToComplete=moment.utc(u).toISOString(),this.project=e}static fromJson(l){return new i(l.id,l.name,l.completed,l.dateToComplete,l.project)}}class r{constructor(l,n,t,u,e,o,r,s){this.id=l,this.user=n,this.title=t,this.description=u,this.dateCreated=moment.utc(e).toISOString(),this.dateToComplete=moment.utc(o).toISOString(),this.dateCompleted=moment.utc(r).toISOString(),this.subtasks=Array.isArray(s)?s.map(i.fromJson):new Array,this.collapsed=!1}static fromJson(l){return new r(l.id,l.user,l.title,l.description,l.dateCreated,l.dateToComplete,l.dateCompleted,l.subtasks)}toggleSubtasks(){this.collapsed=!this.collapsed}get progress(){return 0===this.subtasks.length?0:this.subtasks.filter(l=>l.completed).length/this.subtasks.length}}var s=t("lJxs"),a=t("AytR"),b=t("IheW");let c=(()=>{class l{constructor(l){this.http=l,this.projects=new o.a(new Array)}loadAllProjects(){this.http.get(`${a.a.api}/projects/`).subscribe(l=>{this.projects.next(l.map(r.fromJson))},l=>{this.projects.error(l)})}getAllProjects(){return this.projects.asObservable()}getProject(l){return this.http.get(`${a.a.api}/projects/${l}/`).pipe(Object(s.a)(r.fromJson))}createProject(l){return this.http.post(`${a.a.api}/projects/`,l).pipe(Object(s.a)(r.fromJson))}updateSubtask(l){return this.http.put(`${a.a.api}/subtasks/${l.id}/`,l).pipe(Object(s.a)(i.fromJson))}}return l.ngInjectableDef=u.Yb({factory:function(){return new l(u.Zb(b.c))},token:l,providedIn:"root"}),l})();class p{constructor(l){this.projectService=l}ngOnInit(){this.projectService.loadAllProjects(),this.projects=this.projectService.getAllProjects()}checkSubtask(l){l.completed=!l.completed,this.projectService.updateSubtask(l).subscribe()}}class g{constructor(l,n){this.projectService=l,this.fb=n}ngOnInit(){this.projectForm=this.fb.group({title:"",description:"",dateToComplete:"",subtasks:[]})}onSubmit(){const l=r.fromJson(this.projectForm.value);this.projectService.createProject(l).subscribe()}}var d=t("NUQi");class m{}var h=t("pMnS"),f=t("oBZk"),j=t("ZZ/e"),C=t("iInd"),A=t("SVse"),M=u.zb({encapsulation:0,styles:[[".toolbar-button[_ngcontent-%COMP%]{padding:0 20px}.inline-icon[_ngcontent-%COMP%]{padding-right:4px}"]],data:{}});function v(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,13,"ion-header",[],null,null,null,f.J,f.k)),u.Ab(1,49152,null,0,j.y,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,11,"ion-toolbar",[],null,null,null,f.X,f.y)),u.Ab(3,49152,null,0,j.zb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(4,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,f.W,f.x)),u.Ab(5,49152,null,0,j.xb,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,["Projects"])),(l()(),u.Bb(7,0,null,0,6,"ion-button",[["class","toolbar-button"],["routerLink","/projects/new"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Mb(l,9).onClick()&&e),"click"===n&&(e=!1!==u.Mb(l,10).onClick(t)&&e),e}),f.A,f.b)),u.Ab(8,49152,null,0,j.h,[u.j,u.p,u.F],null,null),u.Ab(9,16384,null,0,C.n,[C.m,C.a,[8,null],u.K,u.p],{routerLink:[0,"routerLink"]},null),u.Ab(10,737280,null,0,j.Hb,[A.i,j.Eb,u.p,C.m,[2,C.n]],null,null),(l()(),u.Bb(11,0,null,0,1,"ion-icon",[["class","inline-icon"],["name","add"]],null,null,null,f.K,f.l)),u.Ab(12,49152,null,0,j.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Tb(-1,0,[" New Project "])),(l()(),u.Bb(14,0,null,null,3,"ion-content",[],null,null,null,f.H,f.i)),u.Ab(15,49152,null,0,j.r,[u.j,u.p,u.F],null,null),(l()(),u.Bb(16,16777216,null,0,1,"ion-router-outlet",[],null,null,null,null,null)),u.Ab(17,212992,null,0,j.fb,[C.b,u.W,u.m,[8,null],[8,null],j.b,j.Eb,A.h,u.p,C.m,u.F,C.a,[3,j.fb]],null,null)],(function(l,n){l(n,9,0,"/projects/new"),l(n,10,0),l(n,12,0,"add"),l(n,17,0)}),null)}function B(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-projects",[],null,null,null,v,M)),u.Ab(1,114688,null,0,e,[],null,null)],(function(l,n){l(n,1,0)}),null)}var k=u.xb("app-projects",e,B,{},{},[]),F=u.zb({encapsulation:0,styles:[[".project-title[_ngcontent-%COMP%]{white-space:nowrap;margin-right:32px}.progress-text[_ngcontent-%COMP%]{margin-left:16px}"]],data:{}});function y(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,6,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.checkSubtask(l.context.$implicit)&&u),u}),f.M,f.n)),u.Ab(1,49152,null,0,j.E,[u.j,u.p,u.F],{button:[0,"button"]},null),(l()(),u.Bb(2,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,f.K,f.l)),u.Ab(3,49152,null,0,j.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Bb(4,0,null,0,2,"ion-label",[],null,null,null,f.N,f.o)),u.Ab(5,49152,null,0,j.K,[u.j,u.p,u.F],null,null),(l()(),u.Tb(6,0,["",""]))],(function(l,n){l(n,1,0,""),l(n,3,0,n.context.$implicit.completed?"checkmark-circle-outline":"radio-button-off")}),(function(l,n){l(n,6,0,n.context.$implicit.name)}))}function S(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.qb(16777216,null,null,1,null,y)),u.Ab(2,278528,null,0,A.k,[u.W,u.S,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.context.$implicit.subtasks)}),null)}function x(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,14,null,null,null,null,null,null,null)),(l()(),u.Bb(1,0,null,null,11,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.context.$implicit.toggleSubtasks()&&u),u}),f.M,f.n)),u.Ab(2,49152,null,0,j.E,[u.j,u.p,u.F],{button:[0,"button"]},null),(l()(),u.Bb(3,0,null,0,1,"p",[["class","project-title"]],null,null,null,null,null)),(l()(),u.Tb(4,null,["",""])),(l()(),u.Bb(5,0,null,0,1,"ion-progress-bar",[],null,null,null,f.T,f.u)),u.Ab(6,49152,null,0,j.W,[u.j,u.p,u.F],{value:[0,"value"]},null),(l()(),u.Bb(7,0,null,0,1,"p",[["class","progress-text"]],null,null,null,null,null)),(l()(),u.Tb(8,null,["","%"])),(l()(),u.Bb(9,0,null,0,1,"ion-icon",[["name","add"],["slot","end"]],null,null,null,f.K,f.l)),u.Ab(10,49152,null,0,j.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Bb(11,0,null,0,1,"ion-icon",[["name","more"],["slot","end"]],null,null,null,f.K,f.l)),u.Ab(12,49152,null,0,j.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.qb(16777216,null,null,1,null,S)),u.Ab(14,16384,null,0,A.l,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(0,null,null,0))],(function(l,n){l(n,2,0,""),l(n,6,0,n.context.$implicit.progress),l(n,10,0,"add"),l(n,12,0,"more"),l(n,14,0,!n.context.$implicit.collapsed)}),(function(l,n){l(n,4,0,n.context.$implicit.title),l(n,8,0,100*n.context.$implicit.progress)}))}function P(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,6,"ion-content",[["ion-padding",""]],null,null,null,f.H,f.i)),u.Ab(1,49152,null,0,j.r,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,4,"ion-list",[["class","list-container"]],null,null,null,f.O,f.p)),u.Ab(3,49152,null,0,j.L,[u.j,u.p,u.F],null,null),(l()(),u.qb(16777216,null,0,2,null,x)),u.Ab(5,278528,null,0,A.k,[u.W,u.S,u.x],{ngForOf:[0,"ngForOf"]},null),u.Ob(131072,A.b,[u.j])],(function(l,n){var t=n.component;l(n,5,0,u.Ub(n,5,0,u.Mb(n,6).transform(t.projects)))}),null)}function O(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-project-list",[],null,null,null,P,F)),u.Ab(1,114688,null,0,p,[c],null,null)],(function(l,n){l(n,1,0)}),null)}var w=u.xb("app-project-list",p,O,{},{},[]),K=t("s7LF"),I=u.zb({encapsulation:0,styles:[[".project-form-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:var(--default-padding)}.project-form-container[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:var(--default-margin)}.project-form-container[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]],data:{}});function T(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,50,"div",[["class","project-form-container"]],null,null,null,null,null)),(l()(),u.Bb(1,0,null,null,49,"form",[["class","project-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keyup.enter"],[null,"submit"],[null,"reset"]],(function(l,n,t){var e=!0,o=l.component;return"submit"===n&&(e=!1!==u.Mb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.Mb(l,3).onReset()&&e),"ngSubmit"===n&&(e=!1!==o.onSubmit()&&e),"keyup.enter"===n&&(e=!1!==o.onSubmit()&&e),e}),null,null)),u.Ab(2,16384,null,0,K.o,[],null,null),u.Ab(3,540672,null,0,K.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Qb(2048,null,K.a,null,[K.d]),u.Ab(5,16384,null,0,K.j,[[4,K.a]],null,null),(l()(),u.Bb(6,0,null,null,11,"ion-item",[],null,null,null,f.M,f.n)),u.Ab(7,49152,null,0,j.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(8,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,f.N,f.o)),u.Ab(9,49152,null,0,j.K,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Tb(-1,0,["Project title"])),(l()(),u.Bb(11,0,null,0,6,"ion-input",[["formControlName","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Mb(l,12)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Mb(l,12)._handleInputEvent(t.target)&&e),e}),f.L,f.m)),u.Ab(12,16384,null,0,j.Jb,[u.p],null,null),u.Qb(1024,null,K.g,(function(l){return[l]}),[j.Jb]),u.Ab(14,671744,null,0,K.c,[[3,K.a],[8,null],[8,null],[6,K.g],[2,K.n]],{name:[0,"name"]},null),u.Qb(2048,null,K.h,null,[K.c]),u.Ab(16,16384,null,0,K.i,[[4,K.h]],null,null),u.Ab(17,49152,null,0,j.D,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Bb(18,0,null,null,11,"ion-item",[],null,null,null,f.M,f.n)),u.Ab(19,49152,null,0,j.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,f.N,f.o)),u.Ab(21,49152,null,0,j.K,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Tb(-1,0,["Description"])),(l()(),u.Bb(23,0,null,0,6,"ion-input",[["formControlName","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Mb(l,24)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Mb(l,24)._handleInputEvent(t.target)&&e),e}),f.L,f.m)),u.Ab(24,16384,null,0,j.Jb,[u.p],null,null),u.Qb(1024,null,K.g,(function(l){return[l]}),[j.Jb]),u.Ab(26,671744,null,0,K.c,[[3,K.a],[8,null],[8,null],[6,K.g],[2,K.n]],{name:[0,"name"]},null),u.Qb(2048,null,K.h,null,[K.c]),u.Ab(28,16384,null,0,K.i,[[4,K.h]],null,null),u.Ab(29,49152,null,0,j.D,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Bb(30,0,null,null,11,"ion-item",[],null,null,null,f.M,f.n)),u.Ab(31,49152,null,0,j.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(32,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,f.N,f.o)),u.Ab(33,49152,null,0,j.K,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Tb(-1,0,["Date to Complete"])),(l()(),u.Bb(35,0,null,0,6,"ion-datetime",[["formControlName","dateToComplete"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Mb(l,36)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Mb(l,36)._handleChangeEvent(t.target)&&e),e}),f.I,f.j)),u.Ab(36,16384,null,0,j.Ib,[u.p],null,null),u.Qb(1024,null,K.g,(function(l){return[l]}),[j.Ib]),u.Ab(38,671744,null,0,K.c,[[3,K.a],[8,null],[8,null],[6,K.g],[2,K.n]],{name:[0,"name"]},null),u.Qb(2048,null,K.h,null,[K.c]),u.Ab(40,16384,null,0,K.i,[[4,K.h]],null,null),u.Ab(41,49152,null,0,j.s,[u.j,u.p,u.F],null,null),(l()(),u.Bb(42,0,null,null,4,"ion-item",[],null,null,null,f.M,f.n)),u.Ab(43,49152,null,0,j.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(44,0,null,0,2,"ion-label",[],null,null,null,f.N,f.o)),u.Ab(45,49152,null,0,j.K,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,["Subtasks"])),(l()(),u.Bb(47,0,null,null,3,"div",[["class","create-button-container"]],null,null,null,null,null)),(l()(),u.Bb(48,0,null,null,2,"ion-button",[["type","submit"]],null,null,null,f.A,f.b)),u.Ab(49,49152,null,0,j.h,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Tb(-1,0,["Create"]))],(function(l,n){l(n,3,0,n.component.projectForm),l(n,9,0,"floating"),l(n,14,0,"title"),l(n,17,0,"text"),l(n,21,0,"floating"),l(n,26,0,"description"),l(n,29,0,"text"),l(n,33,0,"floating"),l(n,38,0,"dateToComplete"),l(n,49,0,"submit")}),(function(l,n){l(n,1,0,u.Mb(n,5).ngClassUntouched,u.Mb(n,5).ngClassTouched,u.Mb(n,5).ngClassPristine,u.Mb(n,5).ngClassDirty,u.Mb(n,5).ngClassValid,u.Mb(n,5).ngClassInvalid,u.Mb(n,5).ngClassPending),l(n,11,0,u.Mb(n,16).ngClassUntouched,u.Mb(n,16).ngClassTouched,u.Mb(n,16).ngClassPristine,u.Mb(n,16).ngClassDirty,u.Mb(n,16).ngClassValid,u.Mb(n,16).ngClassInvalid,u.Mb(n,16).ngClassPending),l(n,23,0,u.Mb(n,28).ngClassUntouched,u.Mb(n,28).ngClassTouched,u.Mb(n,28).ngClassPristine,u.Mb(n,28).ngClassDirty,u.Mb(n,28).ngClassValid,u.Mb(n,28).ngClassInvalid,u.Mb(n,28).ngClassPending),l(n,35,0,u.Mb(n,40).ngClassUntouched,u.Mb(n,40).ngClassTouched,u.Mb(n,40).ngClassPristine,u.Mb(n,40).ngClassDirty,u.Mb(n,40).ngClassValid,u.Mb(n,40).ngClassInvalid,u.Mb(n,40).ngClassPending)}))}function J(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-project-detail",[],null,null,null,T,I)),u.Ab(1,114688,null,0,g,[c,K.b],null,null)],(function(l,n){l(n,1,0)}),null)}var _=u.xb("app-project-detail",g,J,{},{},[]);t.d(n,"ProjectsModuleNgFactory",(function(){return V}));var V=u.yb(m,[],(function(l){return u.Jb([u.Kb(512,u.m,u.jb,[[8,[h.a,k,w,_]],[3,u.m],u.D]),u.Kb(4608,A.n,A.m,[u.z,[2,A.v]]),u.Kb(4608,K.m,K.m,[]),u.Kb(4608,K.b,K.b,[]),u.Kb(4608,j.a,j.a,[u.F,u.g]),u.Kb(4608,j.Db,j.Db,[j.a,u.m,u.w]),u.Kb(4608,j.Gb,j.Gb,[j.a,u.m,u.w]),u.Kb(1073742336,A.c,A.c,[]),u.Kb(1073742336,K.l,K.l,[]),u.Kb(1073742336,K.e,K.e,[]),u.Kb(1073742336,K.k,K.k,[]),u.Kb(1073742336,j.Bb,j.Bb,[]),u.Kb(1073742336,C.q,C.q,[[2,C.v],[2,C.m]]),u.Kb(1073742336,m,m,[]),u.Kb(1024,C.k,(function(){return[[{path:"",component:e,canActivate:[d.a],children:[{path:"",component:p},{path:":title",component:g}]}]]}),[])])}))}}]);