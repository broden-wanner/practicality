(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{XkyL:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{constructor(){}ngOnInit(){}}var o=t("2Vo4");class i{constructor(l,n,t,u,e){this.id=l,this.name=n,this.completed=t,this.dateToComplete=moment.utc(u).toISOString(),this.project=e}static fromJson(l){return console.log(l),new i(l.id,l.name,l.completed,l.dateToComplete,l.project)}}class r{constructor(l,n,t,u,e,o,r,s){this.id=l,this.user=n,this.title=t,this.description=u,this.dateCreated=moment.utc(e).toISOString(),this.dateToComplete=moment.utc(o).toISOString(),this.dateCompleted=moment.utc(r).toISOString(),this.subtasks=Array.isArray(s)?s.map(i.fromJson):new Array,this.collapsed=!1}static fromJson(l){return new r(l.id,l.user,l.title,l.description,l.dateCreated,l.dateToComplete,l.dateCompleted,l.subtasks)}toggleSubtasks(){this.collapsed=!this.collapsed}get progress(){return 0===this.subtasks.length?0:this.subtasks.filter(l=>l.completed).length/this.subtasks.length}}var s=t("lJxs"),a=t("IheW");let b=(()=>{class l{constructor(l){this.http=l,this.projects=new o.a(new Array)}loadAllProjects(){this.http.get("/api/projects/").subscribe(l=>{this.projects.next(l.map(r.fromJson))},l=>{this.projects.error(l)})}getAllProjects(){return this.projects.asObservable()}getProject(l){return this.http.get(`/api/projects/${l}/`).pipe(Object(s.a)(r.fromJson))}createProject(l){return this.http.post("/api/projects/",l).pipe(Object(s.a)(r.fromJson))}updateSubtask(l){return this.http.put(`api/subtasks/${l.id}/`,l).pipe(Object(s.a)(i.fromJson))}}return l.ngInjectableDef=u.Yb({factory:function(){return new l(u.Zb(a.c))},token:l,providedIn:"root"}),l})();class c{constructor(l){this.projectService=l}ngOnInit(){this.projectService.loadAllProjects(),this.projects=this.projectService.getAllProjects()}checkSubtask(l){l.completed=!l.completed,this.projectService.updateSubtask(l).subscribe()}}class p{constructor(l,n){this.projectService=l,this.fb=n}ngOnInit(){this.projectForm=this.fb.group({title:"",description:"",dateToComplete:"",subtasks:[]})}onSubmit(){const l=r.fromJson(this.projectForm.value);this.projectService.createProject(l).subscribe()}}var g=t("NUQi");class d{}var m=t("pMnS"),h=t("oBZk"),f=t("ZZ/e"),j=t("iInd"),C=t("SVse"),A=u.zb({encapsulation:0,styles:[[".toolbar-button[_ngcontent-%COMP%]{padding:0 20px}.inline-icon[_ngcontent-%COMP%]{padding-right:4px}"]],data:{}});function M(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,13,"ion-header",[],null,null,null,h.J,h.k)),u.Ab(1,49152,null,0,f.y,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,11,"ion-toolbar",[],null,null,null,h.X,h.y)),u.Ab(3,49152,null,0,f.zb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(4,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,h.W,h.x)),u.Ab(5,49152,null,0,f.xb,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,["Projects"])),(l()(),u.Bb(7,0,null,0,6,"ion-button",[["class","toolbar-button"],["routerLink","/projects/new"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Mb(l,9).onClick()&&e),"click"===n&&(e=!1!==u.Mb(l,10).onClick(t)&&e),e}),h.A,h.b)),u.Ab(8,49152,null,0,f.h,[u.j,u.p,u.F],null,null),u.Ab(9,16384,null,0,j.n,[j.m,j.a,[8,null],u.K,u.p],{routerLink:[0,"routerLink"]},null),u.Ab(10,737280,null,0,f.Hb,[C.i,f.Eb,u.p,j.m,[2,j.n]],null,null),(l()(),u.Bb(11,0,null,0,1,"ion-icon",[["class","inline-icon"],["name","add"]],null,null,null,h.K,h.l)),u.Ab(12,49152,null,0,f.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Tb(-1,0,[" New Project "])),(l()(),u.Bb(14,0,null,null,3,"ion-content",[],null,null,null,h.H,h.i)),u.Ab(15,49152,null,0,f.r,[u.j,u.p,u.F],null,null),(l()(),u.Bb(16,16777216,null,0,1,"ion-router-outlet",[],null,null,null,null,null)),u.Ab(17,212992,null,0,f.fb,[j.b,u.W,u.m,[8,null],[8,null],f.b,f.Eb,C.h,u.p,j.m,u.F,j.a,[3,f.fb]],null,null)],(function(l,n){l(n,9,0,"/projects/new"),l(n,10,0),l(n,12,0,"add"),l(n,17,0)}),null)}function v(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-projects",[],null,null,null,M,A)),u.Ab(1,114688,null,0,e,[],null,null)],(function(l,n){l(n,1,0)}),null)}var B=u.xb("app-projects",e,v,{},{},[]),k=u.zb({encapsulation:0,styles:[[".project-title[_ngcontent-%COMP%]{white-space:nowrap;margin-right:32px}.progress-text[_ngcontent-%COMP%]{margin-left:16px}"]],data:{}});function F(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,6,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.checkSubtask(l.context.$implicit)&&u),u}),h.M,h.n)),u.Ab(1,49152,null,0,f.E,[u.j,u.p,u.F],{button:[0,"button"]},null),(l()(),u.Bb(2,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,h.K,h.l)),u.Ab(3,49152,null,0,f.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Bb(4,0,null,0,2,"ion-label",[],null,null,null,h.N,h.o)),u.Ab(5,49152,null,0,f.K,[u.j,u.p,u.F],null,null),(l()(),u.Tb(6,0,["",""]))],(function(l,n){l(n,1,0,""),l(n,3,0,n.context.$implicit.completed?"checkmark-circle-outline":"radio-button-off")}),(function(l,n){l(n,6,0,n.context.$implicit.name)}))}function y(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.qb(16777216,null,null,1,null,F)),u.Ab(2,278528,null,0,C.k,[u.W,u.S,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.context.$implicit.subtasks)}),null)}function S(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,14,null,null,null,null,null,null,null)),(l()(),u.Bb(1,0,null,null,11,"ion-item",[["button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.context.$implicit.toggleSubtasks()&&u),u}),h.M,h.n)),u.Ab(2,49152,null,0,f.E,[u.j,u.p,u.F],{button:[0,"button"]},null),(l()(),u.Bb(3,0,null,0,1,"p",[["class","project-title"]],null,null,null,null,null)),(l()(),u.Tb(4,null,["",""])),(l()(),u.Bb(5,0,null,0,1,"ion-progress-bar",[],null,null,null,h.T,h.u)),u.Ab(6,49152,null,0,f.W,[u.j,u.p,u.F],{value:[0,"value"]},null),(l()(),u.Bb(7,0,null,0,1,"p",[["class","progress-text"]],null,null,null,null,null)),(l()(),u.Tb(8,null,["","%"])),(l()(),u.Bb(9,0,null,0,1,"ion-icon",[["name","add"],["slot","end"]],null,null,null,h.K,h.l)),u.Ab(10,49152,null,0,f.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.Bb(11,0,null,0,1,"ion-icon",[["name","more"],["slot","end"]],null,null,null,h.K,h.l)),u.Ab(12,49152,null,0,f.z,[u.j,u.p,u.F],{name:[0,"name"]},null),(l()(),u.qb(16777216,null,null,1,null,y)),u.Ab(14,16384,null,0,C.l,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(0,null,null,0))],(function(l,n){l(n,2,0,""),l(n,6,0,n.context.$implicit.progress),l(n,10,0,"add"),l(n,12,0,"more"),l(n,14,0,!n.context.$implicit.collapsed)}),(function(l,n){l(n,4,0,n.context.$implicit.title),l(n,8,0,100*n.context.$implicit.progress)}))}function x(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,6,"ion-content",[["ion-padding",""]],null,null,null,h.H,h.i)),u.Ab(1,49152,null,0,f.r,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,4,"ion-list",[["class","list-container"]],null,null,null,h.O,h.p)),u.Ab(3,49152,null,0,f.L,[u.j,u.p,u.F],null,null),(l()(),u.qb(16777216,null,0,2,null,S)),u.Ab(5,278528,null,0,C.k,[u.W,u.S,u.x],{ngForOf:[0,"ngForOf"]},null),u.Ob(131072,C.b,[u.j])],(function(l,n){var t=n.component;l(n,5,0,u.Ub(n,5,0,u.Mb(n,6).transform(t.projects)))}),null)}function P(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-project-list",[],null,null,null,x,k)),u.Ab(1,114688,null,0,c,[b],null,null)],(function(l,n){l(n,1,0)}),null)}var O=u.xb("app-project-list",c,P,{},{},[]),w=t("s7LF"),K=u.zb({encapsulation:0,styles:[[".project-form-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:var(--default-padding)}.project-form-container[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:var(--default-margin)}.project-form-container[_ngcontent-%COMP%]   .create-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}"]],data:{}});function I(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,50,"div",[["class","project-form-container"]],null,null,null,null,null)),(l()(),u.Bb(1,0,null,null,49,"form",[["class","project-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keyup.enter"],[null,"submit"],[null,"reset"]],(function(l,n,t){var e=!0,o=l.component;return"submit"===n&&(e=!1!==u.Mb(l,3).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.Mb(l,3).onReset()&&e),"ngSubmit"===n&&(e=!1!==o.onSubmit()&&e),"keyup.enter"===n&&(e=!1!==o.onSubmit()&&e),e}),null,null)),u.Ab(2,16384,null,0,w.o,[],null,null),u.Ab(3,540672,null,0,w.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Qb(2048,null,w.a,null,[w.d]),u.Ab(5,16384,null,0,w.j,[[4,w.a]],null,null),(l()(),u.Bb(6,0,null,null,11,"ion-item",[],null,null,null,h.M,h.n)),u.Ab(7,49152,null,0,f.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(8,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,h.N,h.o)),u.Ab(9,49152,null,0,f.K,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Tb(-1,0,["Project title"])),(l()(),u.Bb(11,0,null,0,6,"ion-input",[["formControlName","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Mb(l,12)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Mb(l,12)._handleInputEvent(t.target)&&e),e}),h.L,h.m)),u.Ab(12,16384,null,0,f.Jb,[u.p],null,null),u.Qb(1024,null,w.g,(function(l){return[l]}),[f.Jb]),u.Ab(14,671744,null,0,w.c,[[3,w.a],[8,null],[8,null],[6,w.g],[2,w.n]],{name:[0,"name"]},null),u.Qb(2048,null,w.h,null,[w.c]),u.Ab(16,16384,null,0,w.i,[[4,w.h]],null,null),u.Ab(17,49152,null,0,f.D,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Bb(18,0,null,null,11,"ion-item",[],null,null,null,h.M,h.n)),u.Ab(19,49152,null,0,f.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,h.N,h.o)),u.Ab(21,49152,null,0,f.K,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Tb(-1,0,["Description"])),(l()(),u.Bb(23,0,null,0,6,"ion-input",[["formControlName","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Mb(l,24)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Mb(l,24)._handleInputEvent(t.target)&&e),e}),h.L,h.m)),u.Ab(24,16384,null,0,f.Jb,[u.p],null,null),u.Qb(1024,null,w.g,(function(l){return[l]}),[f.Jb]),u.Ab(26,671744,null,0,w.c,[[3,w.a],[8,null],[8,null],[6,w.g],[2,w.n]],{name:[0,"name"]},null),u.Qb(2048,null,w.h,null,[w.c]),u.Ab(28,16384,null,0,w.i,[[4,w.h]],null,null),u.Ab(29,49152,null,0,f.D,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Bb(30,0,null,null,11,"ion-item",[],null,null,null,h.M,h.n)),u.Ab(31,49152,null,0,f.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(32,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,h.N,h.o)),u.Ab(33,49152,null,0,f.K,[u.j,u.p,u.F],{position:[0,"position"]},null),(l()(),u.Tb(-1,0,["Date to Complete"])),(l()(),u.Bb(35,0,null,0,6,"ion-datetime",[["formControlName","dateToComplete"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0;return"ionBlur"===n&&(e=!1!==u.Mb(l,36)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Mb(l,36)._handleChangeEvent(t.target)&&e),e}),h.I,h.j)),u.Ab(36,16384,null,0,f.Ib,[u.p],null,null),u.Qb(1024,null,w.g,(function(l){return[l]}),[f.Ib]),u.Ab(38,671744,null,0,w.c,[[3,w.a],[8,null],[8,null],[6,w.g],[2,w.n]],{name:[0,"name"]},null),u.Qb(2048,null,w.h,null,[w.c]),u.Ab(40,16384,null,0,w.i,[[4,w.h]],null,null),u.Ab(41,49152,null,0,f.s,[u.j,u.p,u.F],null,null),(l()(),u.Bb(42,0,null,null,4,"ion-item",[],null,null,null,h.M,h.n)),u.Ab(43,49152,null,0,f.E,[u.j,u.p,u.F],null,null),(l()(),u.Bb(44,0,null,0,2,"ion-label",[],null,null,null,h.N,h.o)),u.Ab(45,49152,null,0,f.K,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,["Subtasks"])),(l()(),u.Bb(47,0,null,null,3,"div",[["class","create-button-container"]],null,null,null,null,null)),(l()(),u.Bb(48,0,null,null,2,"ion-button",[["type","submit"]],null,null,null,h.A,h.b)),u.Ab(49,49152,null,0,f.h,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Tb(-1,0,["Create"]))],(function(l,n){l(n,3,0,n.component.projectForm),l(n,9,0,"floating"),l(n,14,0,"title"),l(n,17,0,"text"),l(n,21,0,"floating"),l(n,26,0,"description"),l(n,29,0,"text"),l(n,33,0,"floating"),l(n,38,0,"dateToComplete"),l(n,49,0,"submit")}),(function(l,n){l(n,1,0,u.Mb(n,5).ngClassUntouched,u.Mb(n,5).ngClassTouched,u.Mb(n,5).ngClassPristine,u.Mb(n,5).ngClassDirty,u.Mb(n,5).ngClassValid,u.Mb(n,5).ngClassInvalid,u.Mb(n,5).ngClassPending),l(n,11,0,u.Mb(n,16).ngClassUntouched,u.Mb(n,16).ngClassTouched,u.Mb(n,16).ngClassPristine,u.Mb(n,16).ngClassDirty,u.Mb(n,16).ngClassValid,u.Mb(n,16).ngClassInvalid,u.Mb(n,16).ngClassPending),l(n,23,0,u.Mb(n,28).ngClassUntouched,u.Mb(n,28).ngClassTouched,u.Mb(n,28).ngClassPristine,u.Mb(n,28).ngClassDirty,u.Mb(n,28).ngClassValid,u.Mb(n,28).ngClassInvalid,u.Mb(n,28).ngClassPending),l(n,35,0,u.Mb(n,40).ngClassUntouched,u.Mb(n,40).ngClassTouched,u.Mb(n,40).ngClassPristine,u.Mb(n,40).ngClassDirty,u.Mb(n,40).ngClassValid,u.Mb(n,40).ngClassInvalid,u.Mb(n,40).ngClassPending)}))}function T(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-project-detail",[],null,null,null,I,K)),u.Ab(1,114688,null,0,p,[b,w.b],null,null)],(function(l,n){l(n,1,0)}),null)}var J=u.xb("app-project-detail",p,T,{},{},[]);t.d(n,"ProjectsModuleNgFactory",(function(){return _}));var _=u.yb(d,[],(function(l){return u.Jb([u.Kb(512,u.m,u.jb,[[8,[m.a,B,O,J]],[3,u.m],u.D]),u.Kb(4608,C.n,C.m,[u.z,[2,C.v]]),u.Kb(4608,w.m,w.m,[]),u.Kb(4608,w.b,w.b,[]),u.Kb(4608,f.a,f.a,[u.F,u.g]),u.Kb(4608,f.Db,f.Db,[f.a,u.m,u.w]),u.Kb(4608,f.Gb,f.Gb,[f.a,u.m,u.w]),u.Kb(1073742336,C.c,C.c,[]),u.Kb(1073742336,w.l,w.l,[]),u.Kb(1073742336,w.e,w.e,[]),u.Kb(1073742336,w.k,w.k,[]),u.Kb(1073742336,f.Bb,f.Bb,[]),u.Kb(1073742336,j.q,j.q,[[2,j.v],[2,j.m]]),u.Kb(1073742336,d,d,[]),u.Kb(1024,j.k,(function(){return[[{path:"",component:e,canActivate:[g.a],children:[{path:"",component:c},{path:":title",component:p}]}]]}),[])])}))}}]);